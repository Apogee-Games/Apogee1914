\doxysection{Units\+Mover.\+cpp}
\hypertarget{_units_mover_8cpp_source}{}\label{_units_mover_8cpp_source}\index{Source/MyProject2/Private/Military/Managers/UnitsMover.cpp@{Source/MyProject2/Private/Military/Managers/UnitsMover.cpp}}
\mbox{\hyperlink{_units_mover_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_units_mover_8h}{Military/Managers/UnitsMover.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_in_game_time_8h}{InGameTime.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_province_manager_8h}{Administration/Managers/ProvinceManager.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_provinces_map_8h}{Maps/Precalculations/ProvincesMap.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00008}\mbox{\hyperlink{class_u_units_mover_adfd93b5e2ba3bdff29b3f04db9b67721}{00008}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_adfd93b5e2ba3bdff29b3f04db9b67721}{UUnitsMover::SetScenario}}(\mbox{\hyperlink{class_u_scenario}{UScenario}}*\ Scenario)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00009}00009\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00010}00010\ \ \ \ \ Clear();}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00011}00011\ \ \ \ \ Init(Scenario);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00012}00012\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00014}\mbox{\hyperlink{class_u_units_mover_af99a8d5a882c96e0986ea20499155d2d}{00014}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_f_graph}{FGraph}}\&\ \mbox{\hyperlink{class_u_units_mover_af99a8d5a882c96e0986ea20499155d2d}{UUnitsMover::GetGraph}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00015}00015\ \textcolor{keyword}{}\{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00016}00016\ \ \ \ \ \textcolor{keywordflow}{return}\ Graph;}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00017}00017\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00019}\mbox{\hyperlink{class_u_units_mover_ae5bd915a0a642d4facfe882a9db1e0bc}{00019}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_ae5bd915a0a642d4facfe882a9db1e0bc}{UUnitsMover::MoveUnit}}(\mbox{\hyperlink{class_u_unit}{UUnit}}*\ Unit,\ \mbox{\hyperlink{class_u_province}{UProvince}}*\ To)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00020}00020\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00021}00021\ \ \ \ \ \textcolor{keywordflow}{if}\ (RetreatingUnits.Contains(Unit))\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00022}00022\ \ \ \ \ \textcolor{keyword}{const}\ TArray<TPair<UProvince*,\ int32>>\&\ Path\ =\ Graph.\mbox{\hyperlink{class_f_graph_a6253703318599c96f22578f000abeba9}{FindPath}}(Unit-\/>\mbox{\hyperlink{class_u_unit_ac46662daa5e444422bee5ad74c78174c}{GetPosition}}(),\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00023}00023\ \ \ \ \ Paths.Add(Unit,\ Path);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00024}00024\ \ \ \ \ Positions.Add(Unit,\ 0);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00025}00025\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00027}\mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{00027}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{UUnitsMover::MoveUnits}}(\textcolor{keyword}{const}\ TSet<UUnit*>\&\ Units,\ \mbox{\hyperlink{class_u_province}{UProvince}}*\ To)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00028}00028\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00029}00029\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ Unit:\ Units)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00030}00030\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00031}00031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_u_units_mover_ae5bd915a0a642d4facfe882a9db1e0bc}{MoveUnit}}(Unit,\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00032}00032\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00033}00033\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00035}\mbox{\hyperlink{class_u_units_mover_a09d40325a7bb56809f4ba15711d1dc5c}{00035}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{UUnitsMover::MoveUnits}}(\textcolor{keyword}{const}\ TArray<UUnit*>\&\ Units,\ \mbox{\hyperlink{class_u_province}{UProvince}}*\ To)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00036}00036\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00037}00037\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ Unit:\ Units)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00038}00038\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00039}00039\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_u_units_mover_ae5bd915a0a642d4facfe882a9db1e0bc}{MoveUnit}}(Unit,\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00040}00040\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00041}00041\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00043}\mbox{\hyperlink{class_u_units_mover_a42fa7791526b3f093d64c4c152374a7f}{00043}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{UUnitsMover::MoveUnits}}(\textcolor{keyword}{const}\ TSet<UUnitsCollection*>\&\ UnitsCollections,\ \mbox{\hyperlink{class_u_province}{UProvince}}*\ To)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00044}00044\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00045}00045\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ UnitsCollection:\ UnitsCollections)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00046}00046\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00047}00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{MoveUnits}}(UnitsCollection-\/>GetAll(),\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00048}00048\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00049}00049\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00051}\mbox{\hyperlink{class_u_units_mover_a7b6fde94c084cb7131ae69a8be1e3dfc}{00051}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{UUnitsMover::MoveUnits}}(\textcolor{keyword}{const}\ TSet<UUnitsCollectionGroup*>\&\ UnitsCollectionGroups,\ \mbox{\hyperlink{class_u_province}{UProvince}}*\ To)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00052}00052\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00053}00053\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ UnitsCollectionsGroup:\ UnitsCollectionGroups)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00054}00054\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00055}00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{MoveUnits}}(UnitsCollectionsGroup-\/>GetAll(),\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00056}00056\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00057}00057\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00059}\mbox{\hyperlink{class_u_units_mover_a1a27f281e760acca056ff8cd6267a3cf}{00059}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{UUnitsMover::MoveUnits}}(\textcolor{keyword}{const}\ TMap<UMilitaryBranchDescription*,\ FUnitsSelection>\&\ Selections,\ \mbox{\hyperlink{class_u_province}{UProvince}}*\ To)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00060}00060\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00061}00061\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ [MilitaryBranch,\ Selection]:\ Selections)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00062}00062\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{MoveUnits}}(Selection.SelectedUnits,\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00064}00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{MoveUnits}}(Selection.SelectedUnitsCollections,\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00065}00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{MoveUnits}}(Selection.SelectedUnitsCollectionGroups,\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00066}00066\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00067}00067\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00069}\mbox{\hyperlink{class_u_units_mover_ac66219b8ed2e43e97da873e54a028a74}{00069}}\ int32\ \mbox{\hyperlink{class_u_units_mover_ac66219b8ed2e43e97da873e54a028a74}{UUnitsMover::Estimate}}(\mbox{\hyperlink{class_u_unit}{UUnit}}*\ Unit,\ \mbox{\hyperlink{class_u_province}{UProvince}}*\ To)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00070}00070\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00071}00071\ \ \ \ \ \textcolor{keyword}{const}\ TArray<TPair<UProvince*,\ int32>>\ Path\ =\ Graph.\mbox{\hyperlink{class_f_graph_a6253703318599c96f22578f000abeba9}{FindPath}}(Unit-\/>\mbox{\hyperlink{class_u_unit_ac46662daa5e444422bee5ad74c78174c}{GetPosition}}(),\ To);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00072}00072\ \ \ \ \ \textcolor{keywordflow}{return}\ Unit-\/>\mbox{\hyperlink{class_u_unit_aea9a88c83a66913f99be6f41e059dafd}{Estimate}}(Path);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00073}00073\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00075}\mbox{\hyperlink{class_u_units_mover_a25cc226724dd5e1d6a67da1a88243a15}{00075}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a25cc226724dd5e1d6a67da1a88243a15}{UUnitsMover::DoUnitMovement}}()}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00076}00076\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00077}00077\ \ \ \ \ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{MoveUnits}}();}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00078}00078\ \ \ \ \ RemoveArrivedUnit();}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00079}00079\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00081}\mbox{\hyperlink{class_u_units_mover_a3e7cc2e2a9a57fed1d84e3e8dc146667}{00081}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a3e7cc2e2a9a57fed1d84e3e8dc146667}{UUnitsMover::SuspendMovement}}(\mbox{\hyperlink{class_u_unit}{UUnit}}*\ Unit)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00082}00082\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00083}00083\ \ \ \ \ SuspendedUnits.Add(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00084}00084\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00086}\mbox{\hyperlink{class_u_units_mover_a01cba7c06937eb476477b0c115e6961b}{00086}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a01cba7c06937eb476477b0c115e6961b}{UUnitsMover::UnSuspendMovement}}(\mbox{\hyperlink{class_u_unit}{UUnit}}*\ Unit)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00087}00087\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00088}00088\ \ \ \ \ SuspendedUnits.Remove(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00089}00089\ \ \ \ \ \textcolor{keywordflow}{if}\ (Paths[Unit][Positions[Unit]].Value\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00090}00090\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00091}00091\ \ \ \ \ \ \ \ \ Paths.Remove(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00092}00092\ \ \ \ \ \ \ \ \ Positions.Remove(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00093}00093\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00094}00094\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00096}\mbox{\hyperlink{class_u_units_mover_a467009eb933be54f7858543850d52057}{00096}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_u_units_mover_a467009eb933be54f7858543850d52057}{UUnitsMover::Retreat}}(\mbox{\hyperlink{class_u_unit}{UUnit}}*\ Unit)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00097}00097\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00098}00098\ \ \ \ \ TArray<TPair<UProvince*,\ int32>>\ Path\ =\ Graph.\mbox{\hyperlink{class_f_graph_a75019602efbea32e321cc6a1f2b9bfed}{CreateRetreatPath}}(Unit-\/>\mbox{\hyperlink{class_u_unit_ac46662daa5e444422bee5ad74c78174c}{GetPosition}}(),\ Unit-\/>\mbox{\hyperlink{class_i_ownable_ada52d5ae19b8dc11a3830c67e0899b1a}{GetCountryController}}());}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00099}00099\ \ \ \ \ \textcolor{keywordflow}{if}\ (!Path.IsEmpty())}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00100}00100\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00101}00101\ \ \ \ \ \ \ \ \ Paths.Add(Unit,\ Path);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00102}00102\ \ \ \ \ \ \ \ \ Positions.Add(Unit,\ 0);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00103}00103\ \ \ \ \ \ \ \ \ RetreatingUnits.Add(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00104}00104\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00105}00105\ \ \ \ \ \textcolor{keywordflow}{return}\ !Path.IsEmpty();}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00106}00106\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00108}00108\ \textcolor{keywordtype}{void}\ UUnitsMover::Clear()}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00109}00109\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00110}00110\ \ \ \ \ Paths.Empty();}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00111}00111\ \ \ \ \ Positions.Empty();}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00112}00112\ \ \ \ \ UnitsArrived.Empty();}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00113}00113\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00115}00115\ \textcolor{keywordtype}{void}\ UUnitsMover::Init(\mbox{\hyperlink{class_u_scenario}{UScenario}}*\ Scenario)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00116}00116\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00117}00117\ \ \ \ \ UGameInstance*\ GameInstance\ =\ GetGameInstance();}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00118}00118\ \ \ \ \ Graph\ =\ \mbox{\hyperlink{class_f_graph}{FGraph}}(GameInstance-\/>GetSubsystem<\mbox{\hyperlink{class_u_provinces_map}{UProvincesMap}}>()-\/>\mbox{\hyperlink{class_u_provinces_map_a320d0d4c78d8b456a7e4a80c14af693b}{GetNeighbourProvinces}}());}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00119}00119\ \ \ \ \ GameInstance-\/>GetSubsystem<\mbox{\hyperlink{class_u_in_game_time}{UInGameTime}}>()-\/>RegisterListener(\textcolor{keyword}{this},\ \&\mbox{\hyperlink{class_u_units_mover_a25cc226724dd5e1d6a67da1a88243a15}{UUnitsMover::DoUnitMovement}},\ \mbox{\hyperlink{class_u_units_mover_a266cf88bb91264e3523a7f56120507d6}{UnitMoveTimeDelta}});}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00120}00120\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00122}00122\ \textcolor{keywordtype}{void}\ UUnitsMover::RemoveArrivedUnit()}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00123}00123\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00124}00124\ \ \ \ \ \textcolor{keywordflow}{while}\ (!UnitsArrived.IsEmpty())}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00125}00125\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00126}00126\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_u_unit}{UUnit}}*\ Unit;}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00127}00127\ \ \ \ \ \ \ \ \ UnitsArrived.Dequeue(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00128}00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (SuspendedUnits.Contains(Unit))\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00129}00129\ \ \ \ \ \ \ \ \ Paths.Remove(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00130}00130\ \ \ \ \ \ \ \ \ Positions.Remove(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00131}00131\ \ \ \ \ \ \ \ \ RetreatingUnits.Remove(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00132}00132\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00133}00133\ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00135}00135\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_u_units_mover_a5c90fde6f36015c3f253a00e191229b7}{UUnitsMover::MoveUnits}}()}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00136}00136\ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00137}00137\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ [Unit,\ Position]:\ Positions)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00138}00138\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00139}00139\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (SuspendedUnits.Contains(Unit))\ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00140}00140\ \ \ \ \ \ \ \ \ Paths[Unit][Position].Value-\/-\/;}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00141}00141\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (Paths[Unit][Position].Value\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00142}00142\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00143}00143\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_i_unit_movement_observable_a2488803c77113e45f3b40343905fc564}{NotifyUnitMovement}}(Unit,\ Unit-\/>\mbox{\hyperlink{class_u_unit_ac46662daa5e444422bee5ad74c78174c}{GetPosition}}(),\ Paths[Unit][Position].Key);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00144}00144\ \ \ \ \ \ \ \ \ \ \ \ \ Unit-\/>\mbox{\hyperlink{class_u_unit_aa75d32b3dc89f054fdf7cfa52bd7fc8e}{Move}}(Paths[Unit][Position].Key);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ Positions[Unit]++;}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (Positions[Unit]\ >=\ Paths[Unit].Num())\ UnitsArrived.Enqueue(Unit);}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00147}00147\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00148}00148\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_units_mover_8cpp_source_l00149}00149\ \}}

\end{DoxyCode}
